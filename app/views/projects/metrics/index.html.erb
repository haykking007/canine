<%= content_for :title, t("scaffold.edit.title", model: "Project") %>

<%= project_layout(@project) do %>
  <div>
    <!-- instructions for connecting to cluster -->
    <h2>Connecting to your cluster</h2>
    <p>
      To create a new pod in your cluster, you can use the following command:
    </p>
    <pre>
      kubectl run <%= @project.name %> --namespace=<%= @project.name %> --image=
    </pre>
  </div>
  <% if @pod_metrics.empty? %>
    <div>
      <p class="text-gray-500">No metrics available</p>
    </div>
  <% else %>
    <table class="table mt-2 rounded-box" id="order_table" data-component="table">
      <thead>
        <tr>
          <th>
            <span class="text-sm font-medium text-base-content/80">Pod Name</span>
          </th>
          <th>
            <span class="text-sm font-medium text-base-content/80">CPU</span>
          </th>
          <th>
            <span class="text-sm font-medium text-base-content/80">
              Memory
            </span>
          </th>
        </tr>
      </thead>
      <tbody>
        <% @pod_metrics.each do |metric| %>
        <tr class="cursor-pointer hover:bg-base-200/40">
          <td>
            <div class="flex items-center space-x-3 truncate">
              <div class="font-medium">
                <%= metric[:name] %>
              </div>
            </div>
          </td>
          <td>
            <div class="font-medium">
              <%= metric[:cpu] %> 
            </div>
          </td>
          <td>
            <div class="font-medium">
              <%= metric[:memory] %>
            </div>
          </td>
        </tr>
        <% end %>
      </tbody>
    </table>
  <% end %>
<% end %>
